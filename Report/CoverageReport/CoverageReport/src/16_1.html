<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>E:\Projects\QALabs\Lab4\Lab4\TDD_Chess\Chessman\TChessman.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
namespace TDD_Chess;

public abstract class TChessman : IChessman
{
    public PieceType PieceType { get; }
    public Side Side { get; }
    public TChessField Field { get; set; }
    
    public TChessBoard Board { get; }

    public TChessman(PieceType pieceType, Side side, TChessField field, TChessBoard board)
    {
        PieceType = pieceType;
        Side = side;
        Field = field;
        Board = board;
    }

    public TChessField GetPosition()
    {
        return Field;
    }

    protected abstract bool AcceptableMove(TChessField newField);
    
    public TChessMove GoToPosition(TChessField field)
    {
        if (!AcceptableMove(field)) throw new Exception(&quot;Unacceptable move!&quot;);
        var move = new TChessMove(Field, field);
        return move;
    }

    public abstract void OnMove();
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[5,34,5,38,1],[6,24,6,28,1],[7,32,7,36,1],[7,37,7,41,1],[9,32,9,36,1],[11,5,11,91,1],[12,5,12,6,1],[13,9,13,31,1],[14,9,14,21,1],[15,9,15,23,1],[16,9,16,23,1],[17,5,17,6,1],[20,5,20,6,0],[21,9,21,22,0],[22,5,22,6,0],[27,5,27,6,1],[28,9,28,36,1],[28,37,28,79,1],[29,9,29,49,1],[30,9,30,21,1],[31,5,31,6,1]]);
    </script>
  </body>
</html>